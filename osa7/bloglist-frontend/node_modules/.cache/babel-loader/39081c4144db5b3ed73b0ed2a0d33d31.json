{"ast":null,"code":"import blogService from '../services/blogs';\n\nconst blogReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'NEW_BLOG':\n      console.log(state.concat(action.data));\n      return state.concat(action.data);\n\n    case 'INIT_BLOGS':\n      state = action.data;\n      return state;\n\n    case 'ADD_LIKE':\n      return state.map(blog => blog.id === action.data.id ? action.data : blog);\n\n    case 'ADD_COMMENT':\n      return state.map(blog => blog.id === action.data.id ? action.data : blog);\n\n    case 'DELETE_BLOG':\n      return state;\n\n    case 'SET_BLOG':\n      state = action.data;\n      return state;\n\n    default:\n      return state;\n  }\n};\n\nexport const initializeBlogs = () => {\n  return async dispatch => {\n    const blogs = await blogService.getAll();\n    dispatch({\n      type: 'INIT_BLOGS',\n      data: blogs\n    });\n  };\n};\nexport const createBlog = blogObject => {\n  return async dispatch => {\n    const newBlog = await blogService.create(blogObject);\n    console.log(newBlog);\n    dispatch({\n      type: 'NEW_BLOG',\n      data: newBlog\n    });\n  };\n};\nexport const addLike = blogObject => {\n  return async dispatch => {\n    const updatedBlog = await blogService.update(blogObject);\n    dispatch({\n      type: 'ADD_LIKE',\n      data: updatedBlog\n    });\n  };\n};\nexport const deleteBlog = blogObject => {\n  return async dispatch => {\n    await blogService.remove(blogObject);\n    dispatch({\n      type: 'DELETE_BLOG'\n    });\n  };\n};\nexport const addComment = (id, comment) => {\n  return async dispatch => {\n    const updatedBlog = await blogService.addComment(id, comment);\n    dispatch({\n      type: 'ADD_COMMENT',\n      data: updatedBlog\n    });\n  };\n};\nexport default blogReducer;","map":{"version":3,"sources":["/home/alisa/fullstack/osa7/bloglist-frontend/src/reducers/blogReducer.js"],"names":["blogService","blogReducer","state","action","type","console","log","concat","data","map","blog","id","initializeBlogs","dispatch","blogs","getAll","createBlog","blogObject","newBlog","create","addLike","updatedBlog","update","deleteBlog","remove","addComment","comment"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,mBAAxB;;AAEA,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAG,EAAT,EAAaC,MAAb,KAAwB;AAC1C,UAAQA,MAAM,CAACC,IAAf;AACA,SAAK,UAAL;AACEC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAK,CAACK,MAAN,CAAaJ,MAAM,CAACK,IAApB,CAAZ;AACA,aAAON,KAAK,CAACK,MAAN,CAAaJ,MAAM,CAACK,IAApB,CAAP;;AACF,SAAK,YAAL;AACEN,MAAAA,KAAK,GAAGC,MAAM,CAACK,IAAf;AACA,aAAON,KAAP;;AACF,SAAK,UAAL;AACE,aAAOA,KAAK,CAACO,GAAN,CAAUC,IAAI,IACnBA,IAAI,CAACC,EAAL,KAAYR,MAAM,CAACK,IAAP,CAAYG,EAAxB,GAA6BR,MAAM,CAACK,IAApC,GAA2CE,IADtC,CAAP;;AAEF,SAAK,aAAL;AACE,aAAOR,KAAK,CAACO,GAAN,CAAUC,IAAI,IACnBA,IAAI,CAACC,EAAL,KAAYR,MAAM,CAACK,IAAP,CAAYG,EAAxB,GAA6BR,MAAM,CAACK,IAApC,GAA2CE,IADtC,CAAP;;AAEF,SAAK,aAAL;AACE,aAAOR,KAAP;;AACF,SAAK,UAAL;AACEA,MAAAA,KAAK,GAAGC,MAAM,CAACK,IAAf;AACA,aAAON,KAAP;;AACF;AACE,aAAOA,KAAP;AAnBF;AAqBD,CAtBD;;AAwBA,OAAO,MAAMU,eAAe,GAAG,MAAM;AACnC,SAAO,MAAMC,QAAN,IAAkB;AACvB,UAAMC,KAAK,GAAG,MAAMd,WAAW,CAACe,MAAZ,EAApB;AACAF,IAAAA,QAAQ,CAAC;AACPT,MAAAA,IAAI,EAAE,YADC;AAEPI,MAAAA,IAAI,EAAEM;AAFC,KAAD,CAAR;AAID,GAND;AAOD,CARM;AAUP,OAAO,MAAME,UAAU,GAAIC,UAAD,IAAgB;AACxC,SAAO,MAAMJ,QAAN,IAAkB;AACvB,UAAMK,OAAO,GAAG,MAAMlB,WAAW,CAACmB,MAAZ,CAAmBF,UAAnB,CAAtB;AACAZ,IAAAA,OAAO,CAACC,GAAR,CAAYY,OAAZ;AACAL,IAAAA,QAAQ,CAAC;AACPT,MAAAA,IAAI,EAAE,UADC;AAEPI,MAAAA,IAAI,EAAEU;AAFC,KAAD,CAAR;AAID,GAPD;AAQD,CATM;AAWP,OAAO,MAAME,OAAO,GAAIH,UAAD,IAAgB;AACrC,SAAO,MAAMJ,QAAN,IAAkB;AACvB,UAAMQ,WAAW,GAAG,MAAMrB,WAAW,CAACsB,MAAZ,CAAmBL,UAAnB,CAA1B;AACAJ,IAAAA,QAAQ,CAAC;AACPT,MAAAA,IAAI,EAAE,UADC;AAEPI,MAAAA,IAAI,EAAEa;AAFC,KAAD,CAAR;AAID,GAND;AAOD,CARM;AAUP,OAAO,MAAME,UAAU,GAAIN,UAAD,IAAgB;AACxC,SAAO,MAAMJ,QAAN,IAAkB;AACvB,UAAMb,WAAW,CAACwB,MAAZ,CAAmBP,UAAnB,CAAN;AACAJ,IAAAA,QAAQ,CAAC;AACPT,MAAAA,IAAI,EAAE;AADC,KAAD,CAAR;AAGD,GALD;AAMD,CAPM;AASP,OAAO,MAAMqB,UAAU,GAAG,CAACd,EAAD,EAAKe,OAAL,KAAiB;AACzC,SAAO,MAAMb,QAAN,IAAkB;AACvB,UAAMQ,WAAW,GAAG,MAAMrB,WAAW,CAACyB,UAAZ,CAAuBd,EAAvB,EAA2Be,OAA3B,CAA1B;AACAb,IAAAA,QAAQ,CAAC;AACPT,MAAAA,IAAI,EAAE,aADC;AAEPI,MAAAA,IAAI,EAAEa;AAFC,KAAD,CAAR;AAID,GAND;AAOD,CARM;AAWP,eAAepB,WAAf","sourcesContent":["import blogService from '../services/blogs'\n\nconst blogReducer = (state = [], action) => {\n  switch (action.type) {\n  case 'NEW_BLOG':\n    console.log(state.concat(action.data))\n    return state.concat(action.data)\n  case 'INIT_BLOGS':\n    state = action.data\n    return state\n  case 'ADD_LIKE':\n    return state.map(blog =>\n      blog.id === action.data.id ? action.data : blog)\n  case 'ADD_COMMENT':\n    return state.map(blog =>\n      blog.id === action.data.id ? action.data : blog)\n  case 'DELETE_BLOG':\n    return state\n  case 'SET_BLOG':\n    state = action.data\n    return state\n  default:\n    return state\n  }\n}\n\nexport const initializeBlogs = () => {\n  return async dispatch => {\n    const blogs = await blogService.getAll()\n    dispatch({\n      type: 'INIT_BLOGS',\n      data: blogs\n    })\n  }\n}\n\nexport const createBlog = (blogObject) => {\n  return async dispatch => {\n    const newBlog = await blogService.create(blogObject)\n    console.log(newBlog)\n    dispatch({\n      type: 'NEW_BLOG',\n      data: newBlog\n    })\n  }\n}\n\nexport const addLike = (blogObject) => {\n  return async dispatch => {\n    const updatedBlog = await blogService.update(blogObject)\n    dispatch({\n      type: 'ADD_LIKE',\n      data: updatedBlog\n    })\n  }\n}\n\nexport const deleteBlog = (blogObject) => {\n  return async dispatch => {\n    await blogService.remove(blogObject)\n    dispatch({\n      type: 'DELETE_BLOG'\n    })\n  }\n}\n\nexport const addComment = (id, comment) => {\n  return async dispatch => {\n    const updatedBlog = await blogService.addComment(id, comment)\n    dispatch({\n      type: 'ADD_COMMENT',\n      data: updatedBlog\n    })\n  }\n}\n\n\nexport default blogReducer"]},"metadata":{},"sourceType":"module"}