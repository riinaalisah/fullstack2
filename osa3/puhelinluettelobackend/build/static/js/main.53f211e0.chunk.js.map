{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonForm.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","props","react_default","a","createElement","person","name","number","onClick","delete","value","Persons","persons","map","toLowerCase","includes","search","components_Person","key","PersonForm","onSubmit","onChange","onNameChange","onNumberChange","type","Notification","message","className","baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","put","concat","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setSearch","_useState9","_useState10","notificationMessage","setNotificationMessage","_useState11","_useState12","notificationType","setNotificationType","useEffect","personService","initialPersons","createPerson","event","returnedPerson","setTimeout","catch","error","el","document","innerHTML","parsed","getElementsByTagName","split","updatePerson","foundPerson","updatedPerson","objectSpread","p","components_Notification","target","components_PersonForm","preventDefault","find","undefined","window","confirm","components_Persons","personToDelete","returned","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.53f211e0.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = (props) => {\n    return (\n        <div>\n            {props.person.name} {props.person.number} \n            <button onClick={props.delete} value={props.person.name}>delete</button>\n        </div>\n    )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = (props) => {\n\n    const rows = () => props.persons.map(function(person) {\n        if (person.name.toLowerCase().includes(props.search.toLowerCase())) {\n          return <Person key={person.name} person={person} delete={props.delete} />\n          }\n        } \n    )\n      \n    return (\n        <div>\n            { rows() }\n        </div> \n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst PersonForm = (props) => {\n\n    return (\n        <form onSubmit={props.onSubmit}>\n        <div>\n          name: <input value={props.name} onChange={props.onNameChange} />\n        </div>\n        <div>\n          number: <input value={props.number} onChange={props.onNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n    \n}\n\nexport default PersonForm","import React from 'react'\n\nconst Notification = (props) => {\n    \n    if (props.message === null) {\n        return null\n    }\n\n    return (\n        <div className={props.type}>\n            {props.message}\n        </div>\n    )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = id => {\n    axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { getAll, create, update, deletePerson }","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\n\nimport personService from './services/persons'\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [search, setSearch] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [notificationType, setNotificationType] = useState('')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const foundPerson = persons.find(p => p.name === newName)\n    if (foundPerson !== undefined) {\n      if (window.confirm(`${newName} is already added to phonebook. Replace the old number with a new one?`)) {\n        updatePerson(foundPerson)\n      }\n    } else {\n      createPerson()\n    }\n\n  }\n\n  const createPerson = (event) => {\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    personService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setNotificationType('success')\n        setNotificationMessage(`Added ${returnedPerson.name}`)\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 5000)\n      })\n      .catch(error => {\n        const el = document.createElement('html')\n        el.innerHTML = error.response.data\n        const parsed = el.getElementsByTagName('pre')[0].innerHTML\n        \n        setNotificationType('error')\n        setNotificationMessage(parsed.split('<br>')[0])\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 7000)\n      })\n  }\n  const updatePerson = (foundPerson) => {\n    const updatedPerson = { ...foundPerson, number: newNumber}\n    personService\n      .update(foundPerson.id, updatedPerson)\n      .then(returnedPerson => {\n      setPersons(persons.map(p => p.id !== foundPerson.id ? p : returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setNotificationType('success')\n        setNotificationMessage(`Information of ${foundPerson.name} was updated.`)\n        \n      })\n      .catch(error => {\n        setNotificationType('error')\n        setNotificationMessage(`Information of ${foundPerson.name} has already been removed from the server.`)\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 5000)\n      })\n  }\n\n  const deletePerson = (event) => {\n    if (window.confirm(`Delete ${event.target.value}?`)) {\n      const personToDelete = persons.find(p => p.name === event.target.value)\n      personService\n        .deletePerson(personToDelete.id)\n      setTimeout(function() {\n        personService\n          .getAll()\n          .then(returned => {\n            setPersons(returned)\n          })\n      }, 500)\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    setSearch(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} type={notificationType} />\n      <div>\n        filter shown with <input\n          value={search}\n          onChange={handleSearchChange} />\n      </div>\n      <h2>Add a new</h2>\n      <PersonForm name={newName} onNameChange={handleNameChange}\n                  number={newNumber} onNumberChange={handleNumberChange}\n                  onSubmit={addPerson}/>\n      <h2>Numbers</h2>\n      <Persons persons={persons} search={search} delete={deletePerson} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}