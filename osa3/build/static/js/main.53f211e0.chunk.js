(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(39)},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),r=t(13),c=t.n(r),o=t(14),l=t(2),i=function(e){return u.a.createElement("div",null,e.person.name," ",e.person.number,u.a.createElement("button",{onClick:e.delete,value:e.person.name},"delete"))},m=function(e){return u.a.createElement("div",null,e.persons.map(function(n){if(n.name.toLowerCase().includes(e.search.toLowerCase()))return u.a.createElement(i,{key:n.name,person:n,delete:e.delete})}))},s=function(e){return u.a.createElement("form",{onSubmit:e.onSubmit},u.a.createElement("div",null,"name: ",u.a.createElement("input",{value:e.name,onChange:e.onNameChange})),u.a.createElement("div",null,"number: ",u.a.createElement("input",{value:e.number,onChange:e.onNumberChange})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"add")))},f=function(e){return null===e.message?null:u.a.createElement("div",{className:e.type},e.message)},d=t(3),b=t.n(d),h="/api/persons",p=function(){return b.a.get(h).then(function(e){return e.data})},v=function(e){return b.a.post(h,e).then(function(e){return e.data})},E=function(e,n){return b.a.put("".concat(h,"/").concat(e),n).then(function(e){return e.data})},g=function(e){b.a.delete("".concat(h,"/").concat(e))},w=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(""),i=Object(l.a)(c,2),d=i[0],b=i[1],h=Object(a.useState)(""),w=Object(l.a)(h,2),j=w[0],O=w[1],C=Object(a.useState)(""),S=Object(l.a)(C,2),y=S[0],N=S[1],T=Object(a.useState)(null),k=Object(l.a)(T,2),L=k[0],I=k[1],A=Object(a.useState)(""),B=Object(l.a)(A,2),D=B[0],H=B[1];Object(a.useEffect)(function(){p().then(function(e){r(e)})},[]);var J=function(e){v({name:d,number:j}).then(function(e){r(t.concat(e)),b(""),O(""),H("success"),I("Added ".concat(e.name)),setTimeout(function(){I(null)},5e3)}).catch(function(e){var n=document.createElement("html");n.innerHTML=e.response.data;var t=n.getElementsByTagName("pre")[0].innerHTML;H("error"),I(t.split("<br>")[0]),setTimeout(function(){I(null)},7e3)})},M=function(e){var n=Object(o.a)({},e,{number:j});E(e.id,n).then(function(n){r(t.map(function(t){return t.id!==e.id?t:n})),b(""),O(""),H("success"),I("Information of ".concat(e.name," was updated."))}).catch(function(n){H("error"),I("Information of ".concat(e.name," has already been removed from the server.")),setTimeout(function(){I(null)},5e3)})};return u.a.createElement("div",null,u.a.createElement("h2",null,"Phonebook"),u.a.createElement(f,{message:L,type:D}),u.a.createElement("div",null,"filter shown with ",u.a.createElement("input",{value:y,onChange:function(e){N(e.target.value)}})),u.a.createElement("h2",null,"Add a new"),u.a.createElement(s,{name:d,onNameChange:function(e){b(e.target.value)},number:j,onNumberChange:function(e){O(e.target.value)},onSubmit:function(e){e.preventDefault();var n=t.find(function(e){return e.name===d});void 0!==n?window.confirm("".concat(d," is already added to phonebook. Replace the old number with a new one?"))&&M(n):J()}}),u.a.createElement("h2",null,"Numbers"),u.a.createElement(m,{persons:t,search:y,delete:function(e){if(window.confirm("Delete ".concat(e.target.value,"?"))){var n=t.find(function(n){return n.name===e.target.value});g(n.id),setTimeout(function(){p().then(function(e){r(e)})},500)}}}))};t(38);c.a.render(u.a.createElement(w,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.53f211e0.chunk.js.map